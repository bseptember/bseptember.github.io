<!DOCTYPE html>
<html>
<head>
  <title>OAuth Callback</title>
</head>
<body>
  <script>
    // Function to generate a unique state value for CSRF protection
    const generateState = () => {
      // Implement the code to generate a unique state value here
      return Math.random().toString(36).substring(7);
    };

    // Generate the device_id and device_name parameters
    const device_id = '1234567890id';
    const device_name = 'EHSLock';
    const state = generateState();
    console.log('Device ID:', device_id);
    console.log('Device State:', device_state);
    console.log('Device Name:', device_name);

    // Redirect to the server-side callback URL with the device parameters as query parameters
    const serverUrl = 'https://192.168.1.33:8443/realms/Erisco/broker/google/endpoint';
    const redirectUrl = `${serverUrl}?device_id=${device_id}&device_name=${device_name}&state=${state}`;
    window.location.href = redirectUrl;
  </script>
</body>
</html>
